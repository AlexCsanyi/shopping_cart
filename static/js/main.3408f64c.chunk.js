(this.webpackJsonpshopping_cart=this.webpackJsonpshopping_cart||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),i=(n(17),n(11)),s=n(1),l=n(2),u=n(5),m=n(3),d=n(6),h=n(4),p=(n(18),n(7)),f=function(e){return"\xa3"+Number(e.toFixed(2)).toLocaleString()+" GBP"},g=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cartItems,n=t.map((function(e){return e.count})),a=t.map((function(e){return e.id})),o=this.props.items.map((function(t){return r.a.createElement("li",{className:"product-listing--item",key:t.id},r.a.createElement("div",{className:"product-listing--item-detail-container"},r.a.createElement("img",{className:"product-listing--item-img",src:t.img,alt:t.name}),r.a.createElement("div",{className:"product-listing--item-description-container"},r.a.createElement("h3",{className:"product-listing--item-title"},t.name),r.a.createElement("p",{className:"product-listing--item-price"},f(t.price)))),r.a.createElement("div",{className:"product-listing--qty-ctrl-container"},r.a.createElement("div",{className:"product-listing--qty-ctrl"},r.a.createElement(p.a,{onClick:function(n){return e.props.handleRemoveFromCart(n,t)},className:"product-listing--qty-icon"}),r.a.createElement("div",{className:"product-listing--qty"},r.a.createElement("h3",{className:"product-listing--qty-ctrl-qty"},a.indexOf(t.id)>-1?n[a.indexOf(t.id)]:"0"),r.a.createElement("p",{onClick:function(n){return e.props.handleDeleteFromCart(n,t)},className:"product-listing--qty-ctrl-remove"},"REMOVE")),r.a.createElement(p.b,{onClick:function(n){return e.props.handleAddToCart(n,t)},className:"product-listing--qty-icon"}))))}));return r.a.createElement("div",{className:"main-container"},r.a.createElement("ul",{className:"product-listing"},o))}}]),t}(a.Component),v=n(10),b=(n(19),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Object(v.a)(new Set(this.props.items.map((function(e){return e.colour})))).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}));return r.a.createElement("div",{className:"filter-container"},r.a.createElement("label",null,"Filter by colour"," ",r.a.createElement("select",{className:"color-form-control",defaultValue:this.props.colour,onChange:this.props.handleChangeColour},r.a.createElement("option",{value:""},"ALL"),e)))}}]),t}(a.Component)),E=(n(20),n(21),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner"},r.a.createElement("h1",null,"Thank You for shopping at PrettyLittleThings"),r.a.createElement("button",{className:"popup-close-btn",onClick:this.props.closePopup},"Go Back & Shop More")))}}]),t}(a.Component)),C=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={showPopup:!1},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"render",value:function(){var e=this.props.cartItems,t=e.map((function(e){return e.count*e.price})).reduce((function(e,t){return e+t}),0);return r.a.createElement("div",{className:"cart-container"},r.a.createElement("div",{className:"total-container"},r.a.createElement("span",null,"TOTAL: ",f(t)),r.a.createElement("p",null,0===e.length?"Basket is empty":r.a.createElement("span",null,"You have ",e.length," ",1===e.length?"type of product":"different types of products"," ","in your basket")),t>0?r.a.createElement("button",{onClick:this.togglePopup.bind(this),className:"button-checkout"},"Check Out"):"",this.state.showPopup?r.a.createElement(E,{text:"Close Me",closePopup:this.togglePopup.bind(this)}):null))}}]),t}(a.Component),O=(n(22),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={items:[],filteredItems:[],cartItems:[],isLoaded:!1},n.handleChangeColour=n.handleChangeColour.bind(Object(d.a)(n)),n.handleAddToCart=n.handleAddToCart.bind(Object(d.a)(n)),n.handleRemoveFromCart=n.handleRemoveFromCart.bind(Object(d.a)(n)),n.handleDeleteFromCart=n.handleDeleteFromCart.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://my-json-server.typicode.com/benirvingplt/products/products").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,items:t,filteredItems:t})})),localStorage.getItem("cartItems")&&this.setState({cartItems:JSON.parse(localStorage.getItem("cartItems"))})}},{key:"handleChangeColour",value:function(e){this.setState({colour:e.target.value}),this.listItems()}},{key:"listItems",value:function(){this.setState((function(e){return""!==e.colour?{filteredItems:e.items.filter((function(t){return t.colour===e.colour}))}:{filteredItems:e.items}}))}},{key:"handleAddToCart",value:function(e,t){this.setState((function(e){var n=e.cartItems,a=!1;return n.forEach((function(e){e.id===t.id&&(a=!0,e.count++)})),a||n.push(Object(i.a)({},t,{count:1})),localStorage.setItem("cartItems",JSON.stringify(n)),n}))}},{key:"handleRemoveFromCart",value:function(e,t){this.setState((function(e){var n=e.cartItems;return n.forEach((function(e){e.id===t.id&&e.count>0&&(e.count--,0===e.count&&n.splice(n.indexOf(e),1))})),localStorage.setItem("cartItems",JSON.stringify(n)),n}))}},{key:"handleDeleteFromCart",value:function(e,t){this.setState((function(e){var n=e.cartItems;return n.forEach((function(e){e.id===t.id&&n.splice(n.indexOf(e),1)})),localStorage.setItem("cartItems",JSON.stringify(n)),n}))}},{key:"render",value:function(){return this.state.isLoaded?r.a.createElement("div",null,r.a.createElement(b,{items:this.state.items,colour:this.state.colour,handleChangeColour:this.handleChangeColour}),r.a.createElement(g,{items:this.state.filteredItems,handleAddToCart:this.handleAddToCart,handleRemoveFromCart:this.handleRemoveFromCart,handleDeleteFromCart:this.handleDeleteFromCart,cartItems:this.state.cartItems}),r.a.createElement(C,{cartItems:this.state.cartItems})):r.a.createElement("div",{className:"loading"},r.a.createElement("h1",null,"PrettyLittleThings"))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.3408f64c.chunk.js.map